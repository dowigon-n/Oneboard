<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.board.eden.board.dao.BoardRepository">
	<select id="selectArticleListByCategory" parameterType="map" resultType="com.board.eden.board.model.Board">
	<![CDATA[
		SELECT
			BOARD_ID                    AS "boardId",
			CATEGORY_ID                 AS "categoryId",
			WRITER                      AS "writer",
			EMAIL						AS "email",
			TITLE						AS "title",
			WRITE_DATE					AS "writeDate",
			MASTER_ID					AS "masterId",
			REPLY_NUMBER				AS "replyNumber",
			REPLY_STEP					AS "replyStep",
			READ_COUNT					AS "readCount",
			RNUM+1						AS "seq"
		FROM(
			SELECT
				BOARD_ID,
				CATEGORY_ID,
				WRITER,
				EMAIL,
				TITLE,
				WRITE_DATE,
				MASTER_ID,
				REPLY_NUMBER,
				REPLY_STEP,
				READ_COUNT,
				ROWNUM AS RNUM
			FROM(
				SELECT * FROM BOARD
				WHERE CATEGORY_ID=#{categoryId}
				ORDER BY MASTER_ID DESC, REPLY_NUMBER, REPLY_STEP
			)
		)
		WHERE RNUM BETWEEN #{start} AMD #{end}	
	]]>
	</select>
	

</mapper>